(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{9427:(e,s,a)=>{Promise.resolve().then(a.bind(a,8013))},8013:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var t=a(5155),r=a(2115),i=a(6046),l=a(446),d=a(3598),n=a(999);let c=()=>{var e,s,a,c,m;let o=(0,i.useRouter)(),{items:x,getTotalItems:u,getTotalPrice:h,clearCart:p}=(0,l.x)(),{user:N,isAuthenticated:y}=(0,d.n)(),[b,j]=(0,r.useState)({email:(null==N?void 0:N.email)||"",firstName:(null==N?void 0:N.firstName)||"",lastName:(null==N?void 0:N.lastName)||"",phone:(null==N?void 0:N.phone)||"",address:(null==N?void 0:null===(e=N.address)||void 0===e?void 0:e.street)||"",city:(null==N?void 0:null===(s=N.address)||void 0===s?void 0:s.city)||"",state:(null==N?void 0:null===(a=N.address)||void 0===a?void 0:a.state)||"",zipCode:(null==N?void 0:null===(c=N.address)||void 0===c?void 0:c.zipCode)||"",country:(null==N?void 0:null===(m=N.address)||void 0===m?void 0:m.country)||"Saudi Arabia",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",saveInfo:!1,newsletter:!1}),[v,g]=(0,r.useState)({}),[f,C]=(0,r.useState)(!1),k=u(),S=h(),z=S>100?0:10,q=.08*S,w=S+z+q,P=e=>{let{name:s,value:a,type:t}=e.target;j(r=>({...r,[s]:"checkbox"===t?e.target.checked:a})),v[s]&&g(e=>({...e,[s]:""}))},D=()=>{let e={};return b.email?(0,n.DT)(b.email)||(e.email="Invalid email format"):e.email="Email is required",b.firstName||(e.firstName="First name is required"),b.lastName||(e.lastName="Last name is required"),b.phone?(0,n.FY)(b.phone)||(e.phone="Invalid phone number"):e.phone="Phone number is required",b.address||(e.address="Address is required"),b.city||(e.city="City is required"),b.state||(e.state="State is required"),b.zipCode||(e.zipCode="ZIP code is required"),"card"!==b.paymentMethod||(b.cardNumber||(e.cardNumber="Card number is required"),b.expiryDate||(e.expiryDate="Expiry date is required"),b.cvv||(e.cvv="CVV is required"),b.nameOnCard||(e.nameOnCard="Name on card is required")),g(e),0===Object.keys(e).length},O=async e=>{if(e.preventDefault(),D()){C(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=(0,n.zk)();p(),o.push("/order-confirmation?orderId=".concat(e))}catch(e){alert("Payment failed. Please try again.")}finally{C(!1)}}};return 0===k?(o.push("/cart"),null):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Checkout"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("form",{onSubmit:O,className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,t.jsx)("input",{type:"email",name:"email",value:b.email,onChange:P,className:"input-field ".concat(v.email?"border-red-500":""),placeholder:"john@example.com"}),v.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.email})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shipping Address"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,t.jsx)("input",{type:"text",name:"firstName",value:b.firstName,onChange:P,className:"input-field ".concat(v.firstName?"border-red-500":"")}),v.firstName&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.firstName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,t.jsx)("input",{type:"text",name:"lastName",value:b.lastName,onChange:P,className:"input-field ".concat(v.lastName?"border-red-500":"")}),v.lastName&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.lastName})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",name:"phone",value:b.phone,onChange:P,className:"input-field ".concat(v.phone?"border-red-500":""),placeholder:"+1 (555) 123-4567"}),v.phone&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.phone})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,t.jsx)("input",{type:"text",name:"address",value:b.address,onChange:P,className:"input-field ".concat(v.address?"border-red-500":""),placeholder:"123 Main Street"}),v.address&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.address})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,t.jsx)("input",{type:"text",name:"city",value:b.city,onChange:P,className:"input-field ".concat(v.city?"border-red-500":"")}),v.city&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.city})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,t.jsx)("input",{type:"text",name:"state",value:b.state,onChange:P,className:"input-field ".concat(v.state?"border-red-500":"")}),v.state&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.state})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,t.jsx)("input",{type:"text",name:"zipCode",value:b.zipCode,onChange:P,className:"input-field ".concat(v.zipCode?"border-red-500":"")}),v.zipCode&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.zipCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,t.jsxs)("select",{name:"country",value:b.country,onChange:P,className:"input-field",children:[(0,t.jsx)("option",{value:"USA",children:"United States"}),(0,t.jsx)("option",{value:"Canada",children:"Canada"}),(0,t.jsx)("option",{value:"UK",children:"United Kingdom"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Method"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",name:"paymentMethod",value:"card",checked:"card"===b.paymentMethod,onChange:P,className:"text-primary-600"}),(0,t.jsx)("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Credit Card"})]}),"card"===b.paymentMethod&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),(0,t.jsx)("input",{type:"text",name:"cardNumber",value:b.cardNumber,onChange:P,className:"input-field ".concat(v.cardNumber?"border-red-500":""),placeholder:"1234 5678 9012 3456"}),v.cardNumber&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.cardNumber})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,t.jsx)("input",{type:"text",name:"expiryDate",value:b.expiryDate,onChange:P,className:"input-field ".concat(v.expiryDate?"border-red-500":""),placeholder:"MM/YY"}),v.expiryDate&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.expiryDate})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),(0,t.jsx)("input",{type:"text",name:"cvv",value:b.cvv,onChange:P,className:"input-field ".concat(v.cvv?"border-red-500":""),placeholder:"123"}),v.cvv&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.cvv})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name on Card"}),(0,t.jsx)("input",{type:"text",name:"nameOnCard",value:b.nameOnCard,onChange:P,className:"input-field ".concat(v.nameOnCard?"border-red-500":"")}),v.nameOnCard&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.nameOnCard})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",name:"saveInfo",checked:b.saveInfo,onChange:P,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Save this information for next time"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",name:"newsletter",checked:b.newsletter,onChange:P,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Subscribe to our newsletter for updates and offers"})]})]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,t.jsx)("div",{className:"space-y-3 mb-4",children:x.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.size," â€¢ ",e.color]})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-500",children:["\xd7",e.quantity]}),(0,t.jsx)("span",{className:"font-medium ml-2",children:(0,n.$g)(e.price*e.quantity)})]})]},"".concat(e.id,"-").concat(e.size,"-").concat(e.color,"-").concat(s)))}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 border-t border-gray-200 pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",k," items)"]}),(0,t.jsx)("span",{children:(0,n.$g)(S)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,t.jsx)("span",{children:0===z?"FREE":(0,n.$g)(z)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,t.jsx)("span",{children:(0,n.$g)(q)})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),(0,t.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:(0,n.$g)(w)})]})}),(0,t.jsx)("button",{onClick:O,disabled:f,className:"w-full btn-primary disabled:opacity-50",children:f?"Processing...":"Complete Order â€¢ ".concat((0,n.$g)(w))})]})})]})]})}},6046:(e,s,a)=>{"use strict";var t=a(6658);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},3598:(e,s,a)=>{"use strict";a.d(s,{n:()=>i});var t=a(3749),r=a(709);let i=(0,t.vt)()((0,r.Zr)((e,s)=>({user:null,isAuthenticated:!1,login:async(s,a)=>"admin@shoplungu.com"===s&&"admin123"===a&&(e({user:{id:"1",firstName:"Admin",lastName:"User",email:"admin@shoplungu.com",phone:"+966 11 123 4567",address:{street:"123 Admin Street",city:"Riyadh",state:"Riyadh Province",zipCode:"11564",country:"Saudi Arabia"}},isAuthenticated:!0}),!0),register:async s=>(e({user:{id:Date.now().toString(),firstName:s.firstName,lastName:s.lastName,email:s.email},isAuthenticated:!0}),!0),logout:()=>{e({user:null,isAuthenticated:!1})},updateUser:s=>{e({user:s})}}),{name:"auth-storage"}))},446:(e,s,a)=>{"use strict";a.d(s,{x:()=>i});var t=a(3749),r=a(709);let i=(0,t.vt)()((0,r.Zr)((e,s)=>({items:[],addItem:s=>e(e=>e.items.find(e=>e.id===s.id&&e.size===s.size&&e.color===s.color)?{items:e.items.map(e=>e.id===s.id&&e.size===s.size&&e.color===s.color?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,{...s,quantity:1}]}),removeItem:(s,a,t)=>e(e=>({items:e.items.filter(e=>!(e.id===s&&e.size===a&&e.color===t))})),updateQuantity:(s,a,t,r)=>e(e=>({items:0===r?e.items.filter(e=>!(e.id===s&&e.size===a&&e.color===t)):e.items.map(e=>e.id===s&&e.size===a&&e.color===t?{...e,quantity:r}:e)})),clearCart:()=>e({items:[]}),getTotalItems:()=>s().items.reduce((e,s)=>e+s.quantity,0),getTotalPrice:()=>s().items.reduce((e,s)=>e+s.price*s.quantity,0)}),{name:"cart-storage"}))},999:(e,s,a)=>{"use strict";a.d(s,{$g:()=>t,DT:()=>l,FY:()=>d,_M:()=>r,zk:()=>i});let t=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),r=(e,s)=>Math.round((e-s)/e*100),i=()=>"ORDER-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9).toUpperCase()),l=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),d=e=>/^\+?[\d\s\-\(\)]+$/.test(e)&&e.length>=10}},e=>{var s=s=>e(e.s=s);e.O(0,[937,441,517,358],()=>s(9427)),_N_E=e.O()}]);